name: Deploy GitHub Pages

# è§¦å‘æ¡ä»¶ï¼šåœ¨ push åˆ° main åˆ†æ”¯å
on:
  push:
    branches:
      - main

# ä»»åŠ¡
jobs:
  build-and-deploy:
    # æœåŠ¡å™¨ç¯å¢ƒï¼šæœ€æ–°ç‰ˆ Ubuntu
    runs-on: ubuntu-latest
    steps:
      # æ‹‰å–ä»£ç 
      - name: Checkout ğŸ””
        uses: actions/checkout@v2
        with:
          persist-credentials: false

      # 1ã€ç”Ÿæˆé™æ€æ–‡ä»¶
      - name: Build â³
        run: npm install && npm run build

      # 2ã€éƒ¨ç½²åˆ° GitHub Pages
      - name: Deploy ğŸš€
        uses: JamesIves/github-pages-deploy-action@4.1.1
        with:
          ssh-key: ${{ secrets.BLOG_PRIVATE_KEY }}
          # repository-name: qiongxing/qiongxing.github.io #å› ä¸ºæ˜¯å½“å‰é¡¹ç›®ç›´æ¥éƒ¨ç½²ï¼Œæ‰€ä»¥ä¸éœ€è¦æŒ‡å‘å…¶ä»–åˆ†æ”¯
          branch: gh-pages
          folder: public